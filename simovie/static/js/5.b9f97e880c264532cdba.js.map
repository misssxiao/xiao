{"version":3,"sources":["webpack:///src/components/san/andi.vue","webpack:///./src/components/san/andi.vue?7d59","webpack:///./src/components/san/andi.vue"],"names":["andi","name","data","movieList","istrue","onno","prevCityId","methods","showBuy","_this","this","setTimeout","handlehandle","relid","$router","push","activated","_this2","cityId","$store","state","city","id","axios","get","then","res","statusText","subjects","san_andi","render","_vm","_h","$createElement","_c","_self","staticClass","ref","_l","item","key","on","tap","$event","staticStyle","width","height","attrs","src","images","small","_v","font-size","font-weight","color","_s","_f","title","rating","average","genres","mainland_pubdate","directives","rawName","value","expression","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"qGAgCA,IAAAA,GACAC,KAAA,OACAC,KAFA,WAGA,OACAC,aACAC,QAAA,EACAC,MAAA,EACAC,YAAA,IAGAC,SACAC,QADA,WACA,IAAAC,EAAAC,KACAA,KAAAL,MAAA,EACAM,WAAA,WAAAF,EAAAJ,MAAA,SAEAO,aALA,SAKAC,GACAH,KAAAI,QAAAC,KAAA,kBAAAF,KAoBAG,UApCA,WAoCA,IAAAC,EAAAP,KAEAQ,EAAAR,KAAAS,OAAAC,MAAAC,KAAAC,GACAZ,KAAAJ,YAAAY,IACAR,KAAAN,QAAA,EAEAM,KAAAa,MAAAC,IAAA,iDAAAC,KAAA,SAAAC,GAEA,MADAA,EAAAC,aAEAV,EAAAd,UAAAuB,EAAAxB,KAAA0B,SACAX,EAAAb,QAAA,QC3EeyB,GADEC,OAFjB,WAA0B,IAAAC,EAAArB,KAAasB,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,SAAmBF,EAAA,OAAYG,IAAA,aAAAD,YAAA,SAAoCL,EAAA,OAAAG,EAAA,QAAAA,EAAA,WAAAA,EAAA,MAAiDE,YAAA,QAAmBL,EAAAO,GAAAP,EAAA,mBAAAQ,GAAuC,OAAAL,EAAA,MAAgBM,IAAAD,EAAAjB,GAAAc,YAAA,aAAmCF,EAAA,OAAYE,YAAA,UAAAK,IAA0BC,IAAA,SAAAC,GAAuB,OAAAZ,EAAAnB,aAAA2B,EAAAjB,QAAmCY,EAAA,OAAYU,aAAaC,MAAA,QAAAC,OAAA,SAAiCC,OAAQC,IAAAT,EAAAU,OAAAC,WAAyBnB,EAAAoB,GAAA,KAAAjB,EAAA,OAA0BE,YAAA,cAAwBF,EAAA,KAAUE,YAAA,OAAAK,IAAuBC,IAAA,SAAAC,GAAuB,OAAAZ,EAAAnB,aAAA2B,EAAAjB,QAAmCY,EAAA,QAAaE,YAAA,QAAAQ,aAAiCQ,YAAA,OAAAC,cAAA,OAAAC,MAAA,WAAyDvB,EAAAoB,GAAApB,EAAAwB,GAAAxB,EAAAyB,GAAA,MAAAzB,CAAAQ,EAAAkB,aAAA1B,EAAAoB,GAAA,KAAAjB,EAAA,KAAAH,EAAAoB,GAAA,MAAAjB,EAAA,QAA4Fa,OAAOzB,GAAA,WAAcS,EAAAoB,GAAApB,EAAAwB,GAAAhB,EAAAmB,OAAAC,cAAA5B,EAAAoB,GAAA,KAAAjB,EAAA,KAAAH,EAAAoB,GAAA,OAAApB,EAAAO,GAAAC,EAAA,eAAAtC,GAA+G,OAAAiC,EAAA,KAAAH,EAAAoB,GAAA,KAAApB,EAAAwB,GAAAtD,cAAgD,GAAA8B,EAAAoB,GAAA,KAAAjB,EAAA,KAAAH,EAAAoB,GAAA,MAAApB,EAAAwB,GAAAxB,EAAAyB,GAAA,OAAAzB,CAAAQ,EAAAqB,YAAA7B,EAAAoB,GAAA,KAAAjB,EAAA,KAAAH,EAAAoB,GAAA,QAAApB,EAAAwB,GAAAhB,EAAAsB,uBAAA9B,EAAAoB,GAAA,KAAAjB,EAAA,OAA0KE,YAAA,eAAyBF,EAAA,KAAUE,YAAA,cAAAK,IAA8BC,IAAAX,EAAAvB,WAAmBuB,EAAAoB,GAAA,cAAqB,SAAApB,EAAAoB,GAAA,KAAAjB,EAAA,OAAiC4B,aAAa7D,KAAA,OAAA8D,QAAA,SAAAC,MAAAjC,EAAA,KAAAkC,WAAA,SAAgE7B,YAAA,SAAqBL,EAAAoB,GAAA,gBAE/4Ce,oBCCjB,IAcAC,EAdyBC,EAAQ,OAcjCC,CACErE,EACA6B,GATF,EAVA,SAAAyC,GACEF,EAAQ,SAaV,kBAEA,MAUeG,EAAA,QAAAJ,EAAiB","file":"static/js/5.b9f97e880c264532cdba.js","sourcesContent":["<template>\r\n\t<div class=\"crui\">\r\n\t\t<!--better-scroll插件,ref添加在需要的位置-->\r\n\t\t<div class=\"baib\" ref = \"movie_body\">\r\n\t\t<load v-if=\"istrue\"></load>\r\n\t\t<bscroll v-else>\r\n\t\t\t<ul class=\"ulli\">\r\n\t\t\t\t\r\n\t\t\t\t<li v-for=\"item in movieList\" :key=\"item.id\" class=\"bigMovie\">\r\n\t\t\t\t\t<!--用自定义指令处理下图片路径，\"http://p0.meituan.net/w.h/movie/7b437e3a0d08d10e374ddc34f71b88fe3379132.jpg，这里有个/W.H/可以利用他设置图片的大小,这传的128.120是宽高-->\r\n\t\t\t\t\t<div class=\"leftImg\" @tap=\"handlehandle(item.id)\"><img :src=\"item.images.small\" style=\"width: 100px;height: 128px;\" /></div>\r\n\t\t\t\t\t<div class=\"introduce\">\r\n\t\t\t\t\t\t<p class=\"expp\" @tap=\"handlehandle(item.id)\">\r\n\t\t\t\t\t\t\t<span style=\"font-size: 16px;font-weight: bold;color: black;\" class=\"exppf\">{{item.title | len}}</span>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<p>评分<span id=\"yingp\">{{item.rating.average}}</span></p>\r\n\t\t\t\t\t\t<p>主演：<b v-for=\"name in item.casts\">  {{name.name}}</b></p>\r\n\t\t\t\t\t\t<p>类型：{{item.genres | jion}}</p>\r\n\t\t\t\t\t\t<p>上映时间：{{item.mainland_pubdate}}</p>\r\n\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"buy_ticket\"><p class=\"buy_ticketP\" @tap=\"showBuy\">购票</p></div>\r\n\t\t\t\t</li>\r\n\t\t\t</ul>\r\n\t\t</bscroll>\r\n\t\t</div>\r\n\t\t<div v-show=\"onno\" class=\"tank\">暂时没有此功能</div>\r\n\t</div>\r\n</template>\r\n<script>\r\n\t/*单独子组件的用法，用better-scroll插件使页面滑动更舒服，好看*/\r\n\t/*import BScroll from \"better-scroll\";*/\r\n\texport default{\r\n\t\tname:\"andi\",\r\n\t\tdata(){\r\n\t\t\treturn{\r\n\t\t\t\tmovieList:[],\r\n\t\t\t\tistrue:true,\r\n\t\t\t\tonno:false,\r\n\t\t\t\tprevCityId:-1\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\tshowBuy(){\r\n\t\t\t\tthis.onno = true;\r\n\t\t\t\tsetTimeout(()=>{this.onno = false;},800)\r\n\t\t\t},\r\n\t\t\thandlehandle(relid){\r\n\t\t\t\tthis.$router.push('/sousuo/detail/'+relid);\r\n\t\t\t},\r\n\t\t\t/*toscroll(pos){\r\n\t\t\t\tif (pos.y > 30) {\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\ttouchend(pos){\r\n\t\t\t\tif (pos.y > 30) {\r\n\t\t\t\t\tthis.axios.get('/api/movieOnInfoList?cityId=11').then((res) =>{\r\n\t\t\t\t\t\tconst msg = res.data.msg;\r\n\t\t\t\t\t\tif (msg === 'ok') {\t\r\n\t\t\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\t\t\tthis.movieList = res.data.data.movieList;\r\n\t\t\t\t\t\t\t},1000);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t}*/\r\n\t\t},\r\n\t\tactivated(){\r\n\t\t\t/*在用了keep-alive里的mounted只会执行一遍，再从其他组件切换过来的时候不会再执行,所以用activated才能做到城市切换,这个只在用keep-alive里可以用*/\r\n\t\t\tconst cityId = this.$store.state.city.id;\r\n\t\t\tif (this.prevCityId == cityId) {return}\r\n\t\t\t\tthis.istrue = true;\r\n\t\t\t/*cityId=10后面的10是只取是个数据*/\r\n\t\t\tthis.axios.get('https://douban.uieee.com/v2/movie/in_theaters').then( (res) =>{\r\n\t\t\t\tconst msg = res.statusText;\r\n\t\t\t\tif(msg == 'OK'){\r\n\t\t\t\t\tthis.movieList = res.data.subjects;\r\n\t\t\t\t\tthis.istrue = false;\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n</script>\r\n<style scoped>\r\n\t*{\r\n\t\tmargin: 0;\r\n\t\tpadding: 0;\r\n\t}\r\n\tul li{\r\n\t\tlist-style-type: none;\r\n\t}\r\n\t.crui{\r\n\t\twidth: 100%;\r\n\t\theight: calc(100vh - 100px);\r\n\t\toverflow: hidden;\r\n\t}\r\n\t.baib{\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t}\r\n\t.ulli{\r\n\t\tmargin-left: 5px;\r\n\t\tmargin-right: 5px;\r\n\t\tpadding-bottom: 50px;\r\n\t}\r\n\t.bigMovie{\r\n\t\twidth: 100%;\r\n\t\tdisplay: flex;\r\n\t\tborder-bottom: 1px solid #ddd;\r\n\t\tpadding-bottom: 5px;\r\n\t\t\r\n\t}\r\n\t.tank{\r\n\t\tposition: absolute;\r\n\t\ttop: 40%;\r\n\t\tleft: 50%;\r\n\t\twidth: 150px;\r\n\t\tline-height: 35px;\r\n\t\ttransform: translate(-50%,-50%);\r\n\t\ttext-align: center;\r\n\t\tborder-radius: 5px;\r\n\t\tcolor: white;\r\n\t\tfont-size: 18px;\r\n\t\tfont-weight: bold;\r\n\t\tbackground-color: skyblue;\r\n\t}\r\n\t.expp{\r\n\t\tpadding-top: 10px;\r\n\t\tdisplay: flex;\r\n\t}\r\n\t.exppf{\r\n\t\tflex: 4;\r\n\t}\r\n\t.expps{\r\n\t\tflex: 2;\r\n\t\tfont-weight: bold;\r\n\t\tcolor: skyblue;\r\n\t\tfont-size: 16px;\r\n\t\ttext-align: center;\r\n\t}\r\n\t#yingp{\r\n\t\tfont-size: 18px;\r\n\t\tcolor: yellow;\r\n\t\tmargin-left: 5px;\r\n\t}\r\n\t.leftImg,.buy_ticket{\r\n\t\tflex: 1;\r\n\t}\r\n\t.buy_ticketP{\r\n\t\tposition: relative;\r\n\t\ttop: 50%;\r\n\t\tleft: 50%;\r\n\t\ttransform: translate(-50%,-50%);\r\n\t\ttext-align: center;\r\n\t\tbackground: #ff0000;\r\n\t\ttext-align: center;\r\n\t\tborder-radius: 3px;\r\n\t\twidth: 50px;\r\n\t\theight: 25px;\r\n\t\tline-height: 25px;\r\n\t}\r\n\t.introduce{\r\n\t\tflex: 3;\r\n\t\tmargin-left:5px;\r\n\t\tmargin-right: 5px; \r\n\t}\r\n\t.introduce p{\r\n\t\tcolor: #aaa;\r\n\t\tfont-size: 13px;\r\n\t\tpadding-top: 5px;\r\n\t}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/san/andi.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"crui\"},[_c('div',{ref:\"movie_body\",staticClass:\"baib\"},[(_vm.istrue)?_c('load'):_c('bscroll',[_c('ul',{staticClass:\"ulli\"},_vm._l((_vm.movieList),function(item){return _c('li',{key:item.id,staticClass:\"bigMovie\"},[_c('div',{staticClass:\"leftImg\",on:{\"tap\":function($event){return _vm.handlehandle(item.id)}}},[_c('img',{staticStyle:{\"width\":\"100px\",\"height\":\"128px\"},attrs:{\"src\":item.images.small}})]),_vm._v(\" \"),_c('div',{staticClass:\"introduce\"},[_c('p',{staticClass:\"expp\",on:{\"tap\":function($event){return _vm.handlehandle(item.id)}}},[_c('span',{staticClass:\"exppf\",staticStyle:{\"font-size\":\"16px\",\"font-weight\":\"bold\",\"color\":\"black\"}},[_vm._v(_vm._s(_vm._f(\"len\")(item.title)))])]),_vm._v(\" \"),_c('p',[_vm._v(\"评分\"),_c('span',{attrs:{\"id\":\"yingp\"}},[_vm._v(_vm._s(item.rating.average))])]),_vm._v(\" \"),_c('p',[_vm._v(\"主演：\"),_vm._l((item.casts),function(name){return _c('b',[_vm._v(\"  \"+_vm._s(name.name))])})],2),_vm._v(\" \"),_c('p',[_vm._v(\"类型：\"+_vm._s(_vm._f(\"jion\")(item.genres)))]),_vm._v(\" \"),_c('p',[_vm._v(\"上映时间：\"+_vm._s(item.mainland_pubdate))])]),_vm._v(\" \"),_c('div',{staticClass:\"buy_ticket\"},[_c('p',{staticClass:\"buy_ticketP\",on:{\"tap\":_vm.showBuy}},[_vm._v(\"购票\")])])])}),0)])],1),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.onno),expression:\"onno\"}],staticClass:\"tank\"},[_vm._v(\"暂时没有此功能\")])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0199f38e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/san/andi.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0199f38e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./andi.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./andi.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./andi.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0199f38e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./andi.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-0199f38e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/san/andi.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}